webpackJsonp([3,5],{48:function(t,e,a){(function(t){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=a(7),n=s(r),o=a(6),i=s(o),c=a(11),d=s(c);e.default={data:function(){return{formData:{},step:1}},methods:{stepAction:function(){var e=this;return(0,i.default)(n.default.mark(function a(){var s,r,o,i,c,p,l,u;return n.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(1!=e.step){a.next=23;break}if(s=e.$appConfig.verify(e.formData.phone,"mobile",!0),!s){a.next=5;break}return(0,d.default)(s),a.abrupt("return",!1);case 5:return r=new FormData,r.append("phone",e.formData.phone),a.next=9,t(e.$appConfig.api.forgetSms,{method:"POST",body:r});case 9:return o=a.sent,a.next=12,o.json();case 12:if(i=a.sent,"200"!=i.code){a.next=18;break}(0,d.default)(i.datas.msg),e.formData.cacheSmsCode=i.datas.sendcode,a.next=20;break;case 18:return(0,d.default)(i.datas.error),a.abrupt("return",!1);case 20:e.step++,a.next=48;break;case 23:if(2!=e.step){a.next=30;break}if(e.formData.sendcode==e.formData.cacheSmsCode){a.next=27;break}return(0,d.default)("验证码不正确！"),a.abrupt("return",!1);case 27:e.step++,a.next=48;break;case 30:if(3!=e.step){a.next=48;break}if(e.formData.new_password){a.next=36;break}return(0,d.default)("请输入新密码！"),a.abrupt("return",!1);case 36:if(!(e.formData.new_password.length<6||e.formData.new_password.length>12)){a.next=39;break}return(0,d.default)("密码长度为6-12个字符！"),a.abrupt("return",!1);case 39:c=new FormData;for(p in e.formData)c.append(p,e.formData[p]);return a.next=43,t(e.$appConfig.api.forgetPwd,{method:"POST",body:c});case 43:return l=a.sent,a.next=46,l.json();case 46:u=a.sent,"400"==u.code?((0,d.default)(u.datas.error),e.step=1,e.formData={}):"200"==u.code&&e.$router.push({path:"/login"});case 48:case"end":return a.stop()}},a,e)}))()}},mounted:function(){this.$store.commit("UPDATE_LOADING",!1)}}}).call(e,a(10))},111:function(t,e,a){var s,r;s=a(48);var n=a(124);r=s=s||{},"object"!=typeof s.default&&"function"!=typeof s.default||(r=s=s.default),"function"==typeof r&&(r=r.options),r.render=n.render,r.staticRenderFns=n.staticRenderFns,t.exports=s},124:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return e("div",[e("div",{staticClass:"progress-content"},[t._l(3,function(a){return e("div",{staticClass:"step-progress",class:{active:a<=t.step}})})])," ",e("div",{staticClass:"register-block"},[e("transition",{attrs:{name:"slide-left"}},[1==t.step?e("div",{staticClass:"child-view"},[e("h1",{staticClass:"reg-title"},["验证您的手机"])," ",e("div",{staticClass:"form-list"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.phone,expression:"formData.phone"}],staticClass:"reg-input",attrs:{type:"tel",placeholder:"手机号码"},domProps:{value:t._s(t.formData.phone)},on:{input:function(e){e.target.composing||(t.formData.phone=e.target.value)}}})])," ",e("span",{staticClass:"reg-btn bg-white",on:{click:function(e){t.stepAction()}}},["下一步"])]):t._e()])," ",e("transition",{attrs:{name:"slide-left"}},[2==t.step?e("div",{staticClass:"child-view"},[e("h1",{staticClass:"reg-title"},["输入您收到的验证码"])," ",e("div",{staticClass:"form-list"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.sendcode,expression:"formData.sendcode"}],staticClass:"reg-input",attrs:{type:"tel",placeholder:"验证码"},domProps:{value:t._s(t.formData.sendcode)},on:{input:function(e){e.target.composing||(t.formData.sendcode=e.target.value)}}})])," ",e("span",{staticClass:"reg-btn bg-white",on:{click:function(e){t.stepAction()}}},["下一步"])]):t._e()])," ",e("transition",{attrs:{name:"slide-left"}},[3==t.step?e("div",{staticClass:"child-view"},[e("h1",{staticClass:"reg-title"},["重置您的密码"])," ",e("div",{staticClass:"form-list"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.new_password,expression:"formData.new_password"}],staticClass:"reg-input",attrs:{type:"password",placeholder:"请输入密码"},domProps:{value:t._s(t.formData.new_password)},on:{input:function(e){e.target.composing||(t.formData.new_password=e.target.value)}}})])," ",e("span",{staticClass:"reg-btn bg-white",on:{click:function(e){t.stepAction()}}},["下一步"])]):t._e()])])])},staticRenderFns:[]}}});
//# sourceMappingURL=3.5386c4d5bea98121d597.js.map