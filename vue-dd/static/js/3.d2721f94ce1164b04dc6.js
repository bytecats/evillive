webpackJsonp([3,11],{19:function(t,a,e){t.exports=e.p+"static/img/icon-man.5e8a13f.png"},20:function(t,a,e){t.exports=e.p+"static/img/icon-woman.9a9e812.png"},57:function(t,a,e){(function(t){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(a,"__esModule",{value:!0});var r=e(4),n=s(r),o=e(3),i=s(o),c=e(7),l=s(c);a.default={data:function(){return{step:1,formData:{lord_sex:null,bank_card:null}}},created:function(){document.body.className="reg-bg"},mounted:function(){this.$store.commit("UPDATE_LOADING",!1)},watch:{step:function(t){4==this.step&&this.getBankSmsCode()}},methods:{getBankSmsCode:function(){var a=this;return(0,i.default)(n.default.mark(function e(){var s,r,o;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=new FormData,s.append("phone",a.formData.lord_phone),e.next=4,t(a.$appConfig.api.lordSmsCode,{method:"POST",body:s});case 4:return r=e.sent,e.next=7,r.json();case 7:o=e.sent,"200"==o.code?(0,l.default)(o.datas.msg):"400"==bankRes.code&&(0,l.default)(o.datas.error);case 9:case"end":return e.stop()}},e,a)}))()},checkBankType:function(){var a=this;return(0,i.default)(n.default.mark(function e(){var s,r,o;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=new FormData,s.append("bank_card",a.formData.bank_card),e.next=4,t(a.$appConfig.api.checkBankType,{method:"POST",body:s});case 4:return r=e.sent,e.next=7,r.json();case 7:o=e.sent,"200"==o.code?a.$set(a.formData,"bank_type",o.datas.bank_type):"400"==o.code&&a.$set(a.formData,"bank_type",o.datas.error);case 9:case"end":return e.stop()}},e,a)}))()},becomeLandlord:function(){var a=this;return(0,i.default)(n.default.mark(function e(){var s,r,o,i;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:s=new FormData,s.append("member_id",a.$store.state.userInfo.member_id);for(r in a.formData)s.append(r,a.formData[r]);return e.next=5,t(a.$appConfig.api.becomeLandlord,{method:"POST",body:s});case 5:return o=e.sent,e.next=8,o.json();case 8:if(i=e.sent,"200"!=i.code){e.next=13;break}return e.abrupt("return",!0);case 13:if("400"!=i.code){e.next=16;break}return(0,l.default)(i.datas.error),e.abrupt("return",!1);case 16:case"end":return e.stop()}},e,a)}))()},stepAction:function(){var t=this.step;switch(t){case 1:if(this.$appConfig.verify(this.formData.lord_name,"chinese",!0))return(0,l.default)(this.$appConfig.verify(this.formData.lord_name,"chinese",!0)),!1;if(this.$appConfig.verify(this.formData.id_card_no,"mainlandIdCard",!0))return(0,l.default)(this.$appConfig.verify(this.formData.id_card_no,"mainlandIdCard",!0)),!1;if(this.$appConfig.verify(this.formData.lord_email,"email",!0))return(0,l.default)(this.$appConfig.verify(this.formData.lord_email,"email",!0)),!1;break;case 2:if(null==this.formData.lord_sex)return(0,l.default)("请选择性别"),!1;break;case 3:if(this.$appConfig.verify(this.formData.lord_phone,"mobile",!0))return(0,l.default)(this.$appConfig.verify(this.formData.lord_phone,"mobile",!0)),!1;if(!this.formData.bank_card)return(0,l.default)("请输入银行卡！"),!1;if(!this.formData.bank_type||"该卡号信息暂未录入"==this.formData.bank_type)return(0,l.default)("请输入正确银行卡号码！"),!1;break;case 4:if(!this.formData.code)return(0,l.default)("请输入验证码！"),!1;if(!this.becomeLandlord())return!1;break;case 5:this.$router.push({path:"/ucenter"})}this.step++}}}}).call(a,e(5))},110:function(t,a,e){a=t.exports=e(10)(),a.push([t.id,".sexy-boy[data-v-20601a0e],.sexy-girl[data-v-20601a0e]{width:2.13333rem;height:2.13333rem;margin:0 auto 5px}.sexy-boy[data-v-20601a0e]{background:url("+e(19)+") no-repeat bottom;background-size:100% auto}.sexy-boy.active[data-v-20601a0e]{background:url("+e(19)+") no-repeat top;background-size:100% auto}.sexy-girl[data-v-20601a0e]{background:url("+e(20)+") no-repeat bottom;background-size:100% auto}.sexy-girl.active[data-v-20601a0e]{background:url("+e(20)+") no-repeat top;background-size:100% auto}","",{version:3,sources:["/./src/views/landlord/reg.vue"],names:[],mappings:"AACA,uDAAuD,iBAAiB,kBAAkB,iBAAiB,CAC1G,AACD,2BAA2B,0DAA2E,yBAAyB,CAC9H,AACD,kCAAkC,uDAAwE,yBAAyB,CAClI,AACD,4BAA4B,0DAA6E,yBAAyB,CACjI,AACD,mCAAmC,uDAA0E,yBAAyB,CACrI",file:"reg.vue",sourcesContent:['\n.sexy-boy[data-v-20601a0e],.sexy-girl[data-v-20601a0e]{width:2.13333rem;height:2.13333rem;margin:0 auto 5px\n}\n.sexy-boy[data-v-20601a0e]{background:url("../../assets/images/icon-man.png") no-repeat center bottom;background-size:100% auto\n}\n.sexy-boy.active[data-v-20601a0e]{background:url("../../assets/images/icon-man.png") no-repeat center top;background-size:100% auto\n}\n.sexy-girl[data-v-20601a0e]{background:url("../../assets/images/icon-woman.png") no-repeat center bottom;background-size:100% auto\n}\n.sexy-girl.active[data-v-20601a0e]{background:url("../../assets/images/icon-woman.png") no-repeat center top;background-size:100% auto\n}\n'],sourceRoot:"webpack://"}])},117:function(t,a,e){var s=e(110);"string"==typeof s&&(s=[[t.id,s,""]]);e(11)(s,{});s.locals&&(t.exports=s.locals)},143:function(t,a,e){var s,r;e(117),s=e(57);var n=e(159);r=s=s||{},"object"!=typeof s.default&&"function"!=typeof s.default||(r=s=s.default),"function"==typeof r&&(r=r.options),r.render=n.render,r.staticRenderFns=n.staticRenderFns,r._scopeId="data-v-20601a0e",t.exports=s},159:function(t,a){t.exports={render:function(){var t=this,a=t.$createElement;return a("div",[a("div",{staticClass:"progress-content"},[t._l(5,function(e){return a("div",{staticClass:"step-progress",class:{active:e<=t.step}})})])," ",a("div",{staticClass:"register-block"},[a("transition",{attrs:{name:"slide-left"}},[1==t.step?a("div",{staticClass:"child-view"},[a("h1",{staticClass:"reg-title"},["完善资料"])," ",a("div",{staticClass:"form-list"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.lord_name,expression:"formData.lord_name"}],staticClass:"reg-input",attrs:{type:"tel",placeholder:"房东姓名"},domProps:{value:t._s(t.formData.lord_name)},on:{input:function(a){a.target.composing||(t.formData.lord_name=a.target.value)}}})])," ",a("div",{staticClass:"form-list"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.id_card_no,expression:"formData.id_card_no"}],staticClass:"reg-input",attrs:{type:"tel",placeholder:"身份证号"},domProps:{value:t._s(t.formData.id_card_no)},on:{input:function(a){a.target.composing||(t.formData.id_card_no=a.target.value)}}})])," ",a("div",{staticClass:"form-list"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.lord_email,expression:"formData.lord_email"}],staticClass:"reg-input",attrs:{type:"tel",placeholder:"邮箱"},domProps:{value:t._s(t.formData.lord_email)},on:{input:function(a){a.target.composing||(t.formData.lord_email=a.target.value)}}})])," ",a("span",{staticClass:"reg-btn bg-white",on:{click:function(a){t.stepAction()}}},["下一步"])]):t._e()])," ",a("transition",{attrs:{name:"slide-left"}},[2==t.step?a("div",{staticClass:"child-view"},[a("h1",{staticClass:"reg-title"},["选择性别"])," ",a("div",{staticClass:"flexbox"},[a("div",{staticClass:"flex"},[a("div",{staticClass:"sexy-boy",class:{active:1==t.formData.lord_sex},on:{click:function(a){t.formData.lord_sex=1}}})," ",a("div",{staticClass:"ta-c"},["男士"])])," ",a("div",{staticClass:"flex"},[a("div",{staticClass:"sexy-girl",class:{active:0==t.formData.lord_sex},on:{click:function(a){t.formData.lord_sex=0}}})," ",a("div",{staticClass:"ta-c"},["女士"])])])," ",a("span",{staticClass:"reg-btn bg-white",on:{click:function(a){t.stepAction()}}},["下一步"])]):t._e()])," ",a("transition",{attrs:{name:"slide-left"}},[3==t.step?a("div",{staticClass:"child-view"},[a("h1",{staticClass:"reg-title"},["绑定银行卡"])," ",a("div",{staticClass:"form-list"},[a("span",{staticClass:"contry-code fl"},["+86"])," ",a("div",{staticClass:"bfc"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.lord_phone,expression:"formData.lord_phone"}],staticClass:"reg-input",attrs:{type:"tel",placeholder:"手机号码"},domProps:{value:t._s(t.formData.lord_phone)},on:{input:function(a){a.target.composing||(t.formData.lord_phone=a.target.value)}}})])])," ",a("div",{staticClass:"form-list"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.bank_card,expression:"formData.bank_card"}],staticClass:"reg-input",attrs:{type:"tel",placeholder:"银行卡号"},domProps:{value:t._s(t.formData.bank_card)},on:{change:function(a){t.checkBankType()},input:function(a){a.target.composing||(t.formData.bank_card=a.target.value)}}})])," ",a("div",{staticClass:"form-list"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.bank_type,expression:"formData.bank_type"}],staticClass:"reg-input",attrs:{type:"tel",placeholder:"",disabled:"disabled"},domProps:{value:t._s(t.formData.bank_type)},on:{input:function(a){a.target.composing||(t.formData.bank_type=a.target.value)}}})])," ",a("span",{staticClass:"reg-btn bg-white",on:{click:function(a){t.stepAction()}}},["下一步"])]):t._e()])," ",a("transition",{attrs:{name:"slide-left"}},[4==t.step?a("div",{staticClass:"child-view"},[a("h1",{staticClass:"reg-title"},["验证码"])," ",a("div",{staticClass:"form-list"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.code,expression:"formData.code"}],staticClass:"reg-input",attrs:{type:"tel",placeholder:""},domProps:{value:t._s(t.formData.code)},on:{input:function(a){a.target.composing||(t.formData.code=a.target.value)}}})])," ",a("span",{staticClass:"reg-btn bg-white",on:{click:function(a){t.stepAction()}}},["下一步"])]):t._e()])," ",a("transition",{attrs:{name:"slide-left"}},[5==t.step?a("div",{staticClass:"child-view"},[a("h1",{staticClass:"reg-title"},["恭喜！完成验证"])," ",a("p",{staticClass:"ta-c"},["叮叮短租，更美好的启程即将开启！",a("br"),a("br"),a("br")])," ",a("span",{staticClass:"reg-btn bg-white",on:{click:function(a){t.stepAction()}}},["下一步"])]):t._e()])])])},staticRenderFns:[]}}});
//# sourceMappingURL=3.d2721f94ce1164b04dc6.js.map