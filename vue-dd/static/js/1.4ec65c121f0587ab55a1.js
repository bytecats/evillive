webpackJsonp([1,5],{12:function(e,t,s){e.exports={default:s(18),__esModule:!0}},18:function(e,t,s){var a=s(3),n=a.JSON||(a.JSON={stringify:JSON.stringify});e.exports=function(e){return n.stringify.apply(n,arguments)}},50:function(e,t,s){(function(e){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=s(7),r=a(n),o=s(12),i=a(o),c=s(6),l=a(c),d=s(11),u=a(d);t.default={data:function(){return{username:"",password:"",username2:"",smsCode:"",loginChcek:!0,getCodeTxt:"获取验证码",getSmsState:!1,sendcode:"",second:60,loginState:!1}},methods:{login:function(t){var s=this;return(0,l.default)(r.default.mark(function a(){var n,o,c,l,d,p,m,f;return r.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(n=s,o=s.$appConfig.verify(s.username,"mobile",!0),!o){a.next=5;break}return(0,u.default)({message:o}),a.abrupt("return",!1);case 5:if(c=null,l=null,1==t?(c=n.password,l="密码不能为空！"):(c=s.smsCode,l="验证码不能为空！"),c){a.next=11;break}return(0,u.default)({message:l}),a.abrupt("return",!1);case 11:return d=new FormData,d.append("type",t),d.append("username",s.username),1==t?d.append("password",s.password):d.append("code",s.smsCode),a.next=17,e(s.$appConfig.api.login,{method:"POST",body:d});case 17:return p=a.sent,a.next=20,p.json();case 20:m=a.sent,"200"==m.code?(s.$store.dispatch("UPDATE_USERINFO",m.datas),localStorage.setItem("userinfo",(0,i.default)(m.datas)),f=decodeURIComponent(s.$route.query.redirect||"/"),n.$router.push({path:f})):(0,u.default)(m.datas.error);case 22:case"end":return a.stop()}},a,s)}))()},getSmsCode:function(){var t=this;return(0,l.default)(r.default.mark(function s(){var a,n,o,i;return r.default.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(a=t.$appConfig.verify(t.username,"mobile",!0),!a){s.next=4;break}return(0,u.default)(a),s.abrupt("return",!1);case 4:return n=new FormData,n.append("username",t.username),s.next=8,e(t.$appConfig.api.getSmsCode,{method:"POST",body:n});case 8:return o=s.sent,s.next=11,o.json();case 11:i=s.sent,"200"==i.code?((0,u.default)(i.datas.msg),t.getSmsState=!0,t.time(),t.sendcode=i.datas.sendcode,t.loginState=!0):(0,u.default)(i.datas.error);case 13:case"end":return s.stop()}},s,t)}))()},time:function(){var e=this,t=setInterval(function(){e.second--,e.getCodeTxt="已发送("+e.second+")",0==e.second&&(clearInterval(t),e.getSmsState=!1,e.getCodeTxt="获取验证码",e.loginState=!1,e.second=60)},1e3)}},mounted:function(){this.$store.commit("UPDATE_LOADING",!1)}}}).call(t,s(10))},113:function(e,t,s){var a,n;a=s(50);var r=s(121);n=a=a||{},"object"!=typeof a.default&&"function"!=typeof a.default||(n=a=a.default),"function"==typeof n&&(n=n.options),n.render=r.render,n.staticRenderFns=r.staticRenderFns,e.exports=a},121:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return t("div",{staticClass:"register-block"},[t("transition",{attrs:{name:"slide-left"}},[e.loginChcek?t("div",{staticClass:"child-view"},[t("h1",{staticClass:"reg-title"},["登录"])," ",t("div",{staticClass:"form-list"},[t("span",{staticClass:"contry-code fl"},["+86"])," ",t("div",{staticClass:"bfc"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],staticClass:"reg-input",attrs:{type:"tel",placeholder:"手机号码"},domProps:{value:e._s(e.username)},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}})])])," ",t("div",{staticClass:"form-list"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"reg-input",attrs:{type:"password",id:"pwd",placeholder:" 密码"},domProps:{value:e._s(e.password)},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})])," ",t("span",{staticClass:"reg-btn",on:{click:function(t){e.login(1)}}},["登录"])," ",t("span",{staticClass:"reg-btn reg-btn-red",on:{click:function(t){e.loginChcek=!e.loginChcek}}},["验证码登录"])," ",t("div",{staticClass:"ta-r"},[t("router-link",{staticClass:"color-white",attrs:{to:{name:"register"}}},["注册"])," ",t("router-link",{staticClass:"fl color-white",attrs:{to:{name:"forgetpwd"}}},["忘记密码"])])]):e._e()])," ",t("transition",{attrs:{name:"slide-right"}},[e.loginChcek?e._e():t("div",{staticClass:"child-view"},[t("h1",{staticClass:"reg-title"},["验证码登录"])," ",t("div",{staticClass:"form-list"},[t("span",{staticClass:"contry-code fl"},["+86"])," ",t("div",{staticClass:"bfc"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],staticClass:"reg-input",attrs:{type:"tel",placeholder:"手机号码"},domProps:{value:e._s(e.username)},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}})])])," ",t("div",{staticClass:"form-list"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.smsCode,expression:"smsCode"}],staticClass:"reg-input",attrs:{type:"tel",id:"pwd",placeholder:"验证码"},domProps:{value:e._s(e.smsCode)},on:{input:function(t){t.target.composing||(e.smsCode=t.target.value)}}})," ",t("span",{staticClass:"get-code",class:{disabled:1==e.loginState},on:{click:function(t){e.getSmsCode()}}},[e._s(e.getCodeTxt)])])," ",t("span",{staticClass:"reg-btn",on:{click:function(t){e.login(2)}}},["登录"])," ",t("span",{staticClass:"reg-btn reg-btn-red",on:{click:function(t){e.loginChcek=!e.loginChcek}}},["用户名登录"])," ",t("div",{staticClass:"ta-r"},[t("router-link",{staticClass:"color-white",attrs:{to:{name:"register"}}},["注册"])," ",t("router-link",{staticClass:"fl color-white",attrs:{to:{name:"forgetpwd"}}},["忘记密码"])])])])])},staticRenderFns:[]}}});
//# sourceMappingURL=1.4ec65c121f0587ab55a1.js.map